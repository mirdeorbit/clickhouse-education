# User cases использования Clickhouse

## Тбанк STATIST

Платформа продуктовой аналитики, которая в качестве основной базы данных использует clickhouse. Данные, которые собирает эта платформа, учитываются в стратегиях развития основных продуктов Т-Банка.

Особенности:

- Архитектура позволяет собирать одновременно пользовательские события (UX, клики, действия) и технические (метрики производительности, ошибки). Это объединено в одну модель данных.
- Наличие SDK, позволяющего собрать все события в один поток, который можно обрабатывать в реальном времени с помощью инструментов clickhouse
- Корпоративная безопасность - инструмент встроен в структуру Т-Банка и позволяет конфиденциально пользоваться сырыми данными и результатами их обработки
- Есть собственная визуализация собранных метрик
- Вероятно, для сбора статистики используется Kafka (или Red-panda), которые напрямую умеют взаимодействовать с clickhouse


https://www.tbank.ru/career/technologies/statist/


## X5 ритейл проект CVM (Customer Value Maximization)

Маркетинговый инструмент, который позволяет анализировать интересы покупателя и рекомендовать определенные кампании тому или иному сегменту гостей

Особенности:

- Миграция данных из spark в clickhouse, разработчики реально сравнивали скорость работы агрегаций данных на тестовых стендах, клик - бастрее. Возможная причина - долгое чтение данных из hadoop кластера спарком
- Наличие основных практик отказоустойчивости - кластеризация, шардирование, репликация


https://habr.com/ru/companies/X5Tech/articles/743696/

## прелесть.рф

Имеется собственный опыт использования clickhouse в проекте, который является разработкой государственной структуры, поэтому название говорить не буду

Цель использования clickhouse - сбор метрик поведения пользователя на сайте для формирования персональных рекомендаций информационного контента

Из метрик были:

- Количество доскроллов контента статьи
- Количество половинных доскроллов контента статьи
- Путь пользователя на сайте
- Время, проведенное пользователем на статье той или иной направленности

и т.д

Особенности:

- Из особенностей архитектуры можно выделить только явную интеграцию с Kafka
- Статистика анализировалась сервером по кроне и для пользователей формировались рекомендации по контенту
